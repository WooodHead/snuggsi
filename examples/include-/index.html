<title>&lt;include-&gt;</title>

<meta charset=UTF-8>
<meta name=viewport content=width=device-width,initial-scale=1>

<link rel=stylesheet href=https://devpunks.herokuapp.com/typography.css>

<script src=/></script>
<script name=polyfill src=https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.0/webcomponents-hi-ce.js></script>

<link rel=import href=/examples/header-group>
<link rel=import href=https://snuggsi.herokuapp.com/examples/to-do/template.html>

<style>
  import-html
    { display: block }
</style>

<header-group>
  <h2 slot=header>&lt;include-&gt;</h2>
  <a  slot=subheader title='See more componentexamples' href=./>See more component examples</a>
</header-group>

<to-do></to-do>

<!-- YOUR CONTENT HERE -->

<include- src=include-/html-fragment.html>
  Import Hasn't Happened
</include->

<include- src=include-/html-fragment-footer.html></include->

<script>
  Element `include-`
  (class extends HTMLElement {

    onconnect () {
      this.textContent = 'Content Loading...'
      this.context.location = this.getAttribute `src`

      let headers = new Headers ({ Accept: 'text/html' })

      fetch (this.context.location, { mode: 'no-cors', headers })
        .then  (response => response.text ())
        .then  (content  => this.parse (content))
        .catch (error    => console.warn (error))
    }

    parse (string) {
      let
        root = (new DOMParser)
          .parseFromString (string, 'text/html')
          .documentElement

      , html = document.importNode (root, true)

      , head = html.querySelector
          `head`.childNodes

      , body = html.querySelector
          `body`.childNodes

      this.innerHTML = ''
      this.append ( ... [ ... head, ... body ] )
    }
  })
</script>

<script src=/browser-sync.es></script>
