<script nomodule src=https://unpkg.com/snuggsi/snuggsi.js></script>
<script nomodule src=script.es></script>

<link rel=stylesheet href=style.css>

<template>

<!-- form needed for backwards compatibility & for `<button type=reset>` -->
<form action=#>

  <label title={label}>

    {label}

    <!--
    `<input type=file list=datalist.id>`
      https://www.w3.org/TR/2011/WD-html-markup-20110525/input.file.html
    -->
    <input multiple list=mimetypes name=files[] type=file required>

  </label>

  <slot name=mimetypes>

    <datalist id=mimetypes>
      <option value=image/jpeg label=image-jpeg.png> jpg
      <option value=image/png  label=image-png.png selected> png
      <option value=application/pdf label=application-pdf.png> pdf
    </datalist>
  </slot>

  <button title='Upload Files' type=submit>Upload</button>
  <button title='Clear All' type=reset>Clear All</button>
</form>

<aside>

  <table class="file-upload-list">
    <thead style="text-align: left">
      <tr>
        <th width="1%"></th>
        <th>Name</th>
        <th width="10%">Size</th>
        <th width="1%"></th>
      </tr>
    </thead>
    <tbody>
      <template name=files>
        <tr>

          <td>
            <img src={icon_url} alt={type} hidden={hidden} style="width: 1em; height: 1em">
          </td>
          <td>
            {name}
          </td>
          <td>
            {size}
          </td>
          <td class="file-remove-cell">
            <a onclick=onremove data-index={#}>&times;</a>
          </td>
        </tr>
      </template>
    </tbody>
  </table>
</aside>

</template>

