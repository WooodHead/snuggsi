<template id=header-group>
  <style>
    :root { border: 1px solid green; }
    hgroup { display: block; width: 100%; }
  </style>

  <hgroup>
    <h1><a href=/examples/index.html>snuggsi ãƒ„</a></h1>
    <slot name=header><h2>try an example</h2></slot>
  </hgroup>
</template>

<script>
Element `header-group`

(class extends HTMLElement {

  static onimportload (event) {
    const template = event.target.import
      .querySelector ('template')
      .cloneNode(true)

    this.slots = template.content.querySelectorAll ('slot')
    this.namedslots = this.querySelectorAll ('[slot]')

    for (let namedslot of this.namedslots)
      Array.from (this.slots)
        .filter (slot => {
          if (slot.getAttribute ('name') === namedslot.getAttribute ('slot'))
            slot.innerHTML = ''
            , slot.appendChild (namedslot)
        })

    this.innerHTML = ''
    this.append (template.content)
  }

  initialize () {
    const tag = `header-group`
    const selector = `link[href='${tag}.html']`

    const link = document.querySelector (selector)
    link.onload = this.constructor.onimportload.bind (this)
  }

})
</script>

