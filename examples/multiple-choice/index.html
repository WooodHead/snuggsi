<link rel=stylesheet href=https://devpunks.herokuapp.com/typography.css></script>
<script src=//unpkg.com/snuggsi></script>

<h1>&lt;multiple-choice&gt;</h1>

<multiple-choice>
  <slot id=header>
    <header>Multiple Choice</header>
  </slot>

  <blockquote>{question}</blockquote>

  <fieldset>
    <legend>Answers</legend>

    <ul>
    <template name=answers>
      <li>
        <label>
          <input name=answer type=radio value={#}> {self}
        </label>
    </template>
  </ul>

  </fieldset>

  <footer>
    <button onclick=onprevious>üëà Previous</button>
    <button onclick=onnext>Next üëâ</button>
  </footer>

</multiple-choice>

<script>

Element `multiple-choice`

(class extends HTMLElement {

  initialize () {
    this.context.current = 0

    this.context.questions_and_answers =
      [
        {
          question: 'what popular tool for developing the client side application should we use??',
          answers: ['React', 'Ember.js', 'Vue', 'Angular', 'jQuery'],
          // answer: undefined // There is no answer hehe
        },

        {
          question: 'What city is known as "The Big üçé Apple ?"',
          answers: ['Seattle, WA', 'Skokie, IL', 'New York City'],
          answer: 2
        }
      ]
  }

  onidle () {
    const
      previous = this.select
        `footer button:first-of-type`

    , next = this.select
        `footer button:last-of-type`

    , beginning =
        this.context.current == 0

    , end =
        this.context.current ==
          (this.context.questions_and_answers.length -1)

    this.enable (beginning, previous)
    this.enable (end, next)
  }

  // helpers
  enable (predicate, element) {
    predicate
      ? element.disabled = true
      : element.disabled = false

  }

  // handlers
  onprevious ()
    { this.context.current -- }

  onnext ()
    { this.context.current ++ }


  // properties
  get current ()
    { return this.context.current }

  get question () {
    return this.context
      .questions_and_answers
        [this.current].question
  }

  get answers () {
    return this.context
      .questions_and_answers
        [this.current].answers
  }

})

</script>

<style>

multiple-choice footer
  { text-align: center }

</style>

<script src=/browser-sync.es></script>

