<title>&lt;weather-viewer&gt;</title>

<meta charset=UTF-8>
<meta name=viewport content=width=device-width,initial-scale=1>

<script nomodule src=//unpkg.com/snuggsi></script>
<script src=//unpkg.com/snuggsi/examples/webcomponents-hi-ce.js></script>

<link rel=stylesheet href=http://www.devpunks.com/typography.css>

<weather-viewer latitude={latitude} longitude={longitude}>

  <img slot=image src={image} alt={name}>
  <h1  slot=description>Today in {name} the temperature is <strong>{temperature}</strong></h1>

</weather-viewer>

<script src=weatherman.js></script>
<script defer>

  Element `weather-viewer`

  (class extends HTMLElement {

    static get latitude ()
      { return '40.7128° N' }

    get latitude () {
      return this.getAttribute ('latitude')
        && this.getAttribute ('latitude').value
        || this.constructor.latitude
    }

    static get longitude ()
      { return '74.0059° W' }

    get longitude () {
      return this.getAttribute ('longitude')
        && this.getAttribute ('longitude').value
        || this.constructor.longitude
    }

    initialize () {
      this.context.city =
        { name: 'New York', temperature: '75' }
    }

    get name ()
      { return this.context.city.name }

    get temperature ()
      { return `${this.context.city.temperature}°F` }

    get image ()
      { return 'https://cache-graphicslib.viator.com/graphicslib/destination/new-york-city-154345.jpg' }

    locate () {
      navigator
        .geolocation
        .getCurrentPosition
          (this.onlocate, error => alert (error))
    }

    onlocate (position) {
      console.log (position)

      position.coords
        .latitude

      position.coords
        .longitude
    }

  })

</script>


<!-- documentation -->

<h1>&lt;weather-viewer&gt;</h1>

<p>Custom <a rel=external target=google href=https://developers.google.com/maps/documentation/geocoding/intro#geocoding>Geocode</a>&#32;element</p>

<p>Choose your prefered weather api</p>
<p><strong><a target=external href=http://openweathermap.org>OpenWeatherMap.org</a></strong> <em>(Default)</em></p>
<p><em><a target=external href=http://openweathermap.org/appid>subscribe for Free API key</a></p>

<h2>Settings</h2>

<dl>
  <dt id=location>
    <strong>location</strong>

  <dd>
    A location setting

  <dt id=latitude>
    <strong>latitude</strong>

  <dd>
    location latitude

  <dt id=longitude>
    <strong>longitude</strong>

  <dd>
    location longitude

</dl>

<h2>Example</h2>

<code>
  <pre>
    &lt;weather-view&gt;
      &lt;img slot=image&gt;
      &lt;h1  slot=description&gt;Today in {name} the temperature is &lt;strong&gt;{temperature}&lt;/strong&gt;&lt;/h1&gt;
    &lt;/weather-view&gt;
  </pre>
</code>

<script src=/browser-sync.es></script>

