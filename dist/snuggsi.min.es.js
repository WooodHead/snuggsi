((e,t=e.define&&e.define.bind(e))=>{class n{static define(e,...t){console.warn("Snuggsi",e,t),t=this.swizzle(t),"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",this.register(e,t))}static register(e,n){return t&&t(e,this[e]=n),t=>{let n=document.body.querySelectorAll(e);[].slice.call(n).map(this.upgrade)}}static swizzle(e,t=HTMLCustomElement){return console.log("Im swizzlin!"),console.warn("Element",e),console.warn("Element.prototype",e.prototype),console.warn("Element.prototype.constructor",e.prototype.constructor),console.warn("Element.constructor",e.constructor),console.warn("constructor",t),console.warn("constructor.prototype",t.prototype),e}static upgrade(e){console.log("ugrading element",e.localName)}}e.define=n.define.bind(n)})(window.customElements=window.customElements||{});class HTMLCustomElement{constructor(){return new String("snuggsi HTMLCustomElement")}}const HTMLLinkElement=function(e){const t=new Event("load"),n=document.querySelector("link[href*="+e+"][rel=import]");return(t.target=n)&&window.HTMLImports&&!window.HTMLImports.useNative&&HTMLImports.whenReady(e=>n.dispatchEvent(t)),n};class TokenList{constructor(e){this.sift(e).map(this.tokenize,this)}tokenize(e){(e.text=e.textContent).match(/([^{]*?)(\w|#)(?=\})/g).map((e=>t=>(this[t]=this[t]||[]).push(e))(e))}sift(e){const t=[],n=/{(\w+|#)}/,o=e=>n.test(e.textContent)&&t.push(e),r=e=>Array.from(e).map(e=>n.test(e.value)&&t.push(e)),s=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,e=>e.nodeType===Node.TEXT_NODE?o(e):r(e.attributes)&&NodeFilter.FILTER_REJECT);for(;s.nextNode(););return t}bind(e){Object.keys(this).map(e=>this[e].map(t=>(t.textContent=t.text)&&e));for(let t in this)this[t].map(((t,n="{"+t+"}")=>o=>o.textContent=o.textContent.replace(n,e[t]))(t))}}const Template=HTMLTemplateElement=function(e){return e="string"==typeof e?document.querySelector("template[name="+e+"]"):e,Object.assign(e,{bind:function(e){let t="",n=this.innerHTML,o=[].concat(...[e]),r=Object.keys(o[0]||[]).concat(["#","self"]),s=r.map(e=>"{"+e+"}"),i=document.createElement("template");(this.dependents||[]).map(e=>e.remove());for(let l=0;l<o.length;l++)t+=((e,t)=>{let o=n;(e="object"==typeof e?e:{self:e})["#"]=t;for(let n=0;n<s.length;n++)o=o.split(s[n]).join(e[r[n]]);return o})(o[l],l);i.innerHTML=t,this.dependents=Array.from(i.content.childNodes),this.after(...this.dependents)}})},EventTarget=e=>class extends e{on(e,t){this.addEventListener(e,this.renderable(t))}renderable(e){return(t,n=!0)=>(t.prevent=(e=>(n=!1)&&t.preventDefault()))&&!1!==e.call(this,t)&&n&&this.render()}},ParentNode=e=>class extends e{selectAll(e,...t){e=[].concat(...[e]);return Array.from(this.querySelectorAll(t.reduce((t,n)=>t+n+e.shift(),e.shift())))}select(...e){return this.selectAll(...e)[0]}},GlobalEventHandlers=e=>class extends e{onconnect(e,t){(t=e.target)&&this.mirror(t.import.querySelector("template")),super.onconnect&&super.onconnect(),this.tokens=new TokenList(this),this.render()}reflect(e,t){(t=(e.match(/^on(.+)$/)||[])[1])&&Object.keys(HTMLElement.prototype).includes(e)&&this.on(t,this[e])}register(e){Array.from(e.attributes).map(e=>e.name).filter(e=>/^on/.test(e)).map((t,n)=>(n=/{\s*(\w+)\s*}/.exec(e[t]))&&(n=this[(n||[])[1]])&&(e[t]=this.renderable(n)))}},Custom=e=>class extends(EventTarget(ParentNode(GlobalEventHandlers(e)))){constructor(){super();let t=Object.getOwnPropertyDescriptors(e.prototype);Object.keys(t).map(e=>"function"==typeof t[e].value&&(this[e]=this[e].bind(this))),Object.getOwnPropertyNames(e.prototype).map(this.reflect,this),this.context={},this.initialize&&this.initialize()}connectedCallback(e){(e=HTMLLinkElement(this.tagName.toLowerCase()))?e.addEventListener("load",this.onconnect.bind(this)):this.onconnect(new Event("load"))}render(){this.tokens.bind(this),Array.from(this.selectAll("template[name]")).map(e=>e.getAttribute("name")).map(e=>new Template(e).bind(this[e])),Array.from(this.selectAll("*")).concat([this]).map(this.register,this),super.onidle&&super.onidle()}mirror(e,t){e=e.cloneNode(!0),t=((t,n,o)=>(n=t.getAttribute("slot"))&&(o=e.content.querySelector("slot[name="+n+"]")).parentNode.replaceChild(t,o));for(let n of this.selectAll("[slot]"))t(n);Array.from(e.attributes).filter(e=>!this.attributes[e.name]).map(e=>this.setAttribute(e.name,e.value)),this.innerHTML=e.innerHTML}},ElementPrototype=window.Element.prototype,Element=e=>{const t="string"==typeof e?HTMLCustomElement:HTMLElement;return n=>{window.customElements.define(...[].concat(...[e]),n,t)}};(e=>{const t="string"==typeof e?HTMLCustomElement:HTMLElement;return n=>{window.customElements.define(...[].concat(...[e]),n,t)}}).prototype=ElementPrototype;