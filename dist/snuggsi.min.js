var ElementPrototype=window.Element.prototype,Element=function(t){for(var e=[],n=arguments.length-1;n-->0;)e[n]=arguments[n+1];return this instanceof Element?new self.Element:function o(e){if(!e)try{return new(window.customElements.get(t))}catch(n){throw"Must define custom element \n(i.e. Element `"+t+"` (class {})"}!this instanceof o&&(self=this);var r=function(t){function e(e){void 0===e&&(e=self),t.call(this),this.context=new State(e,this.stateChangedCallback)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={rendered:{},context:{}},o={observedAttributes:{}};return n.rendered.get=function(){return this.render()},e.prototype.render=function(e,n){void 0===n&&(n=this.context);var o=e?this.select(e):this,r=t.prototype.render.call(this,e);n=Array.isArray(n)?n:[n],o.innerHTML=n.map(function(t){return tag(r,t)}).join("")},e.prototype.select=function(t){return this.listenable([this.querySelector(t)])[0]},e.prototype.selectAll=function(t){return this.listenable(this.querySelectorAll(t))},e.prototype.listenable=function(t){var e=this;return Array.prototype.map.call(t,function(t){return Object.assign(t,{listen:e.listen.bind(e)})})},e.prototype.listen=function(t,e){void 0===e&&(e=this[t]),this.addEventListener(t,e)},n.context.get=function(){return self},n.context.set=function(t){return console.warn("setting context",t),self=t},e.prototype.stateChangedCallback=function(t,e){console.warn("previous",t),console.warn("next",e)},e.prototype.attributeChangedCallback=function(t,e,n){console.warn("["+t+"] ["+e+"] to ["+n+"]")},o.observedAttributes.get=function(){return["id"]},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this)},e.prototype.disconnectedCallback=function(){console.warn("disconnected",this)},e.prototype.adoptedCallback=function(){console.warn("adopted this",this)},Object.defineProperties(e.prototype,n),Object.defineProperties(e,o),e}(e);try{window.customElements.define(t,r)}finally{return window.customElements.get(t)}}};Element.prototype=window.Element.prototype;