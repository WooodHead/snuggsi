var this$1=this,Template=function(t){function e(t){for(var e,n=function(t,e){return void 0===e&&(e=/({\w+})/g),e.exec(t.data)&&NodeFilter.FILTER_ACCEPT},r=document.createNodeIterator(t.content,NodeFilter.SHOW_TEXT,n),o=[];e=r.nextNode();)o.push(e);return o}function n(t){return document.querySelector("template[name="+t+"]").cloneNode(!0)}return void 0===t&&(t="snuggsi"),e(n(t))};console.log("My template",new Template("days").content);var EventTarget=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.listen=function(t,e){void 0===e&&(e="on"+this$1[t]),this.addEventListener(t,e)},e}(t)},TokenList=function(t){var e=this,n=function(t){return t.text=t.data,t},r=function(t){return t.match(/(\w+)/g)[0]},o=function(t){return function(n){return e[n]=t}},i=function(t){return t.textContent.match(/{(\w+)}/g).map(r).map(o(t))};t.map(n).map(i)};TokenList.prototype.bind=function(t,e){var n=this;for(var r in n)e=n[r],e.data=e.text;for(var o in n)e=n[o],e.data=e.data.replace("{"+o+"}",t[o]);return this};var ParentNode=function(t){return function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={texts:{},tokens:{}};return e.prototype.selectAll=function(t){return this.querySelectorAll(t)},e.prototype.select=function(t){return this.selectAll(t)[0]},n.texts.get=function(){for(var t,e=function(t,e){return void 0===e&&(e=/({\w+})/g),e.exec(t.data)&&NodeFilter.FILTER_ACCEPT},n=document.createNodeIterator(this,NodeFilter.SHOW_TEXT,e),r=[];t=n.nextNode();)r.push(t);return r},n.tokens.get=function(){return this._tokens=this._tokens||new TokenList(this.texts)},Object.defineProperties(e.prototype,n),e}(t)},GlobalEventHandlers=function(t){return function(t){function e(){t.call(this);var e=function(t){return/^on/.exec(t)};this.register(e).mirror(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.mirror=function(e){var n=this;return Object.getOwnPropertyNames(t).filter(e).forEach(function(e){return!n[e]&&(n[e]=t[e])}),this},e.prototype.register=function(e){var n=this,r=":not(script):not(template):not(style):not(link)",o=Array.from(this.querySelectorAll(r)),i=function(t){return Array.from(t.attributes).map(function(t){return t.name}).filter(e).length>0},c=function(e,n){return void 0===n&&(n=(/{\s*(\w+)\s*}/.exec(e)||[])[1]),n&&t[n]||e||null},u=function(){return function(t){return Array.from(t.attributes).map(function(t){return t.name}).filter(e).filter(function(t){return void 0!==n[t]}).map(a(t))}},a=function(t){return function(e){t[e]=c(t[e])}}[this].concat(o).filter(i).map(u(this));return this},e}(t)},ElementPrototype=window.Element.prototype,Element=function(t,e){return void 0===e&&(e=window.customElements),t=t[0],function(n){var r=this===window?{}:this,o=function(t){function e(){t.call(this),this.context=r,t.prototype.initialize&&t.prototype.initialize.call(this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={context:{},templates:{}};return n.context.get=function(){return self},n.context.set=function(t){self=t},n.templates.get=function(){return Array.from(this.selectAll("template[name]"))},e.prototype.render=function(){var t=this;this.tokens.bind(this);for(var e=0,n=t.templates;e<n.length;e+=1){var r=n[e];Template([r.getAttribute("name")])}},e.prototype.connectedCallback=function(){void(t.prototype.constructor.onconnect||t.prototype.connectedCallback||function(){}).call(this),this.render()},Object.defineProperties(e.prototype,n),e}(EventTarget(ParentNode(GlobalEventHandlers(n))));return e.define(t,o),e.get(t)}};Element.prototype=ElementPrototype;