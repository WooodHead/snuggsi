var HTMLLinkElement=function(t){var e={},n=document.querySelector("link[href*="+t+"][rel=import]"),r=function(t,e){return HTMLImports&&!HTMLImports.useNative?HTMLImports.whenReady(function(t){return e({target:n})}):n.addEventListener(t,e)};return Object.defineProperties(e,{addEventListener:{writable:!1,value:function(t,o){n?r(t,o):o({target:e})}}}),e},TokenList=function(t){this.sift(t).map(this.tokenize,this)};TokenList.prototype.tokenize=function(t){var e=this;(t.text=t.textContent).match(/([^{]*?)(\w|#)(?=\})/g).map(function(t){return function(n){return(e[n]=e[n]||[]).push(t)}}(t))},TokenList.prototype.sift=function(t){for(var e=[],n=/{(\w+|#)}/,r=function(t){return n.test(t.textContent)&&e.push(t)},o=function(t){return Array.from(t).map(function(t){return n.test(t.value)&&e.push(t)})},i=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,function(t){return t.nodeType===Node.TEXT_NODE?r(t):o(t.attributes)&&NodeFilter.FILTER_REJECT});i.nextNode(););return e},TokenList.prototype.bind=function(t){var e=this;Object.keys(this).map(function(t){return e[t].map(function(e){return(e.textContent=e.text)&&t})});for(var n in e)e[n].map(function(e,n){return void 0===n&&(n="{"+e+"}"),function(r){return r.textContent=r.textContent.replace(n,t[e])}}(n))};var HTMLTemplateElement=Template=function(t){return Object.assign(document.querySelector("template[name="+t+"]"),{bind:function(t){var e=this;contexts=(o=[]).concat.apply(o,[t]);var n,r=this.cloneNode(!1);return r.innerHTML=contexts.map(function(t){return t}).map(function(t,r){return t="object"==typeof t?t:{self:t},t["#"]=r,n=e.cloneNode(!0),new TokenList(n.content).bind(t),n.innerHTML}).join(""),(this.dependents||[]).map(function(t){return t.remove()}),this.dependents=Array.from(r.content.childNodes),this.after(r.content),this;var o}})},EventTarget=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.on=function(t,e){this.addEventListener(t,this.renderable(e))},e.prototype.renderable=function(t){var e=this;return function(n,r){return void 0===r&&(r=!0),(n.prevent=function(t){return(r=!1)&&n.preventDefault()})&&!1!==t.call(e,n)&&r&&e.render()}},e}(t)},ParentNode=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.selectAll=function(t){return this.querySelectorAll(t)},e.prototype.select=function(t){return this.selectAll(t)[0]},e}(t)},GlobalEventHandlers=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onconnect=function(e,n){(n=e.target.import)&&this.mirror(n.querySelector("template")),t.prototype.onconnect&&t.prototype.onconnect.call(this),this.tokens=new TokenList(this),this.render()},e.prototype.reflect=function(t,e){(e=(t.match(/^on(.+)$/)||[])[1])&&Object.keys(HTMLElement.prototype).includes(t)&&this.on(e,this[t])},e.prototype.register=function(t){var e=this;Array.from(t.attributes).map(function(t){return t.name}).filter(function(t){return/^on/.test(t)}).map(function(n,r){return(r=/{\s*(\w+)\s*}/.exec(t[n]))&&(r=e[(r||[])[1]])&&(t[n]=e.renderable(r))})},e}(t)},Component=function(t){return function(e){function n(n){var r=this;e.call(this);var o=Object.getOwnPropertyDescriptors(t.prototype);Object.keys(o).map(function(t){return"function"==typeof o[t].value&&(r[t]=r[t].bind(r))}),Object.getOwnPropertyNames(t.prototype).map(this.reflect,this),this.context=this.context||{},this.initialize&&this.initialize()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=function(){HTMLLinkElement(this.tagName.toLowerCase()).addEventListener("load",this.onconnect.bind(this))},n.prototype.render=function(){var t=this;this.tokens.bind(this),Array.from(this.selectAll("template[name]")).map(function(t){return t.getAttribute("name")}).map(function(e){return new Template(e).bind(t[e])}),Array.from(this.selectAll("*")).concat([this]).map(this.register,this),e.prototype.onidle&&e.prototype.onidle.call(this)},n.prototype.mirror=function(t,e){var n=this;t=t.cloneNode(!0),e=function(e,n,r){return(n=e.getAttribute("slot"))&&(r=t.content.querySelector("slot[name="+n+"]")).parentNode.replaceChild(e,r)};for(var r=0,o=n.selectAll("[slot]");r<o.length;r+=1)e(o[r]);Array.from(t.attributes).filter(function(t){return!n.attributes[t.name]}).map(function(t){return n.setAttribute(t.name,t.value)}),this.innerHTML=t.innerHTML},n}(EventTarget(ParentNode(GlobalEventHandlers(t))))},ElementPrototype=window.Element.prototype,Element=function(t){return function(e){return(n=window.customElements).define.apply(n,t.concat([Component(e)]));var n}};Element.prototype=ElementPrototype;