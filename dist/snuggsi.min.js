window.HTMLElement=function(t,e){var n=function(){return e=document.createElement(this.constructor.localName),console.log("element",e),Object.setPrototypeOf(e,this.constructor.prototype)};return n.prototype=t.prototype,n}(HTMLElement),function(t,e){void 0===e&&(e=t.define&&t.define.bind(t));var n=function(){};n.define=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",(n=this).register.apply(n,t));var n},n.register=function(t,e,n){var o=this;return e.localName=t,console.log("the class",e),function(n){var r=document.body.querySelectorAll(t);[].slice.call(r).map(o.upgrade,e)}},n.swizzle=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return definition},n.upgrade=function(t){(new this).connectedCallback.call(t),console.warn(t.localName,"ugraded!")},t.define=n.define.bind(n)}(window.customElements=window.customElements||{});var HTMLLinkElement=function(t){var e=new Event("load"),n=document.querySelector("link[href*="+t+"][rel=import]");return(e.target=n)&&window.HTMLImports&&!window.HTMLImports.useNative&&HTMLImports.whenReady(function(t){return n.dispatchEvent(e)}),n},TokenList=function(t){this.sift(t).map(this.tokenize,this)};TokenList.prototype.tokenize=function(t){var e=this;(t.text=t.textContent).match(/([^{]*?)(\w|#)(?=\})/g).map(function(t){return function(n){return(e[n]=e[n]||[]).push(t)}}(t))},TokenList.prototype.sift=function(t){for(var e=[],n=/{(\w+|#)}/,o=function(t){return n.test(t.textContent)&&e.push(t)},r=function(t){return Array.from(t).map(function(t){return n.test(t.value)&&e.push(t)})},i=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,function(t){return t.nodeType===Node.TEXT_NODE?o(t):r(t.attributes)&&NodeFilter.FILTER_REJECT});i.nextNode(););return e},TokenList.prototype.bind=function(t){var e=this;Object.keys(this).map(function(t){return e[t].map(function(e){return(e.textContent=e.text)&&t})});for(var n in e)e[n].map(function(e,n){return void 0===n&&(n="{"+e+"}"),function(o){return o.textContent=o.textContent.replace(n,t[e])}}(n))};var Template=HTMLTemplateElement=function(t){return t="string"==typeof t?document.querySelector("template[name="+t+"]"):t,Object.assign(t,{bind:function(t){var e="",n=this.innerHTML,o=(u=[]).concat.apply(u,[t]),r=Object.keys(o[0]||[]).concat(["#","self"]),i=r.map(function(t){return"{"+t+"}"}),c=document.createElement("template");(this.dependents||[]).map(function(t){return t.remove()});for(var a=0;a<o.length;a++)e+=function(t,e){var o=n;(t="object"==typeof t?t:{self:t})["#"]=e;for(var c=0;c<i.length;c++)o=o.split(i[c]).join(t[r[c]]);return o}(o[a],a);c.innerHTML=e,this.dependents=Array.from(c.content.childNodes)(p=this).after.apply(p,this.dependents);var u,p}})},EventTarget=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.on=function(t,e){this.addEventListener(t,this.renderable(e))},e.prototype.renderable=function(t){var e=this;return function(n,o){return void 0===o&&(o=!0),(n.prevent=function(t){return(o=!1)&&n.preventDefault()})&&!1!==t.call(e,n)&&o&&e.render()}},e}(t)},ParentNode=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.selectAll=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];t=(o=[]).concat.apply(o,[t]);return Array.from(this.querySelectorAll(e.reduce(function(e,n){return e+n+t.shift()},t.shift())));var o},e.prototype.select=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return(n=this).selectAll.apply(n,t)[0];var n},e}(t)},GlobalEventHandlers=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onconnect=function(e,n){(n=e.target)&&this.mirror(n.import.querySelector("template")),t.prototype.onconnect&&t.prototype.onconnect.call(this),this.tokens=new TokenList(this),this.render()},e.prototype.reflect=function(t,e){(e=(t.match(/^on(.+)$/)||[])[1])&&Object.keys(HTMLElement.prototype).includes(t)&&this.on(e,this[t])},e.prototype.register=function(t){var e=this;Array.from(t.attributes).map(function(t){return t.name}).filter(function(t){return/^on/.test(t)}).map(function(n,o){return(o=/{\s*(\w+)\s*}/.exec(t[n]))&&(o=e[(o||[])[1]])&&(t[n]=e.renderable(o))})},e}(t)},Custom=function(t){return function(t){function e(){return t.call(this),console.log("holy fuck this is working!!!",this),this}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.connectedCallback=function(t){console.warn("HAIL MARY",this,this.foo,this.bar,this.baz,this.onconnect),(t=HTMLLinkElement(this.tagName.toLowerCase()))?t.addEventListener("load",this.onconnect.bind(this)):this.onconnect(new Event("load"))},e.prototype.render=function(){var e=this;this.tokens.bind(this),Array.from(this.selectAll("template[name]")).map(function(t){return t.getAttribute("name")}).map(function(t){return new Template(t).bind(e[t])}),Array.from(this.selectAll("*")).concat([this]).map(this.register,this),t.prototype.onidle&&t.prototype.onidle.call(this)},e.prototype.mirror=function(t,e){var n=this;t=t.cloneNode(!0),e=function(e,n,o){return(n=e.getAttribute("slot"))&&(o=t.content.querySelector("slot[name="+n+"]")).parentNode.replaceChild(e,o)};for(var o=0,r=n.selectAll("[slot]");o<r.length;o+=1)e(r[o]);Array.from(t.attributes).filter(function(t){return!n.attributes[t.name]}).map(function(t){return n.setAttribute(t.name,t.value)}),this.innerHTML=t.innerHTML},e}(EventTarget(ParentNode(GlobalEventHandlers(t))))},ElementPrototype=window.Element.prototype,Element=function(t){var e="string"==typeof t;return function(n){(o=window.customElements).define.apply(o,(r=[]).concat.apply(r,[t]).concat([Custom(n)],[{prototype:e}]));var o,r}};Element.prototype=ElementPrototype;