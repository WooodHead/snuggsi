var this$1=this,TokenList=function(t){{var e=this,n=function(t){return t.text=t.data,t},r=function(t){return t.match(/(\w+)/g)[0]},o=function(t){return function(n){return e[n]=t}},i=function(t){return t.textContent.match(/{(\w+)}/g).map(r).map(o(t))};this.sift(t).map(n).map(i)}};TokenList.prototype.bind=function(t,e){var n=this;for(var r in n)e=n[r],e.data=e.text,e.data=e.data.replace("{"+r+"}",t[r]);return this},TokenList.prototype.sift=function(t,e){void 0===e&&(e=[]);for(var n=function(t){return(r(t)||/({\w+})/g.test(t.textContent))&&NodeFilter.FILTER_ACCEPT},r=(function(t){return"attributes"in t&&Array.from(t.attributes).filter(function(t){return!/^on/.test(t.name)&&/({\w+})/g.test(t.textContent)})}),o=document.createNodeIterator(t,NodeFilter.SHOW_ALL,n);t=o.nextNode();)e.push(t);return[]};var Template=function(t){function e(t){var e=this;this.dependents=this.dependents||[],t=Array.isArray(t)?t:[t];for(var n=void 0,r=[];n=this.dependents.pop();)n.remove();for(var o=0,i=t;o<i.length;o+=1){var u=i[o],c=e.cloneNode(!0),s=new TokenList(c.content);s.bind(u),r.push(c.content)}return r.map(function(t){(e=this.dependents).push.apply(e,t.childNodes);var e},this)(a=this).after.apply(a,r),this;var a}return void 0===t&&(t="snuggsi"),Object.assign(document.querySelector("template[name="+t+"]"),{bind:e})},EventTarget=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.listen=function(t,e){void 0===e&&(e=this$1[t]),this.addEventListener(t,e)},e}(t)},ParentNode=function(t){return function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={tokens:{}};return e.prototype.selectAll=function(t){return this.querySelectorAll(t)},e.prototype.select=function(t){return this.selectAll(t)[0]},n.tokens.get=function(){return this._tokens=this._tokens||new TokenList(this)},Object.defineProperties(e.prototype,n),e}(t)},GlobalEventHandlers=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.register=function(e){var n=this;void 0===e&&(e=function(t){return/^on/.exec(t)});var r=":not(script):not(template):not(style):not(link)",o=Array.from(this.querySelectorAll(r)),i=function(t){return Array.from(t.attributes).map(function(t){return t.name}).filter(e).length>0},u=function(e,r){return void 0===r&&(r=(/{\s*(\w+)\s*}/.exec(e)||[])[1]),r&&t[r].bind(n)||e||null},c=function(){return function(t){return Array.from(t.attributes).map(function(t){return t.name}).filter(e).filter(function(t){return void 0!==n[t]}).map(s(t))}},s=function(t){return function(e){t[e]=u(t[e])}},a=function(e){return!n[e]&&(n[e]=t[e].bind(n))};return void[this].concat(o).filter(i).map(c(this)),Object.getOwnPropertyNames(t).filter(e).map(a),this},e}(t)},ElementPrototype=window.Element.prototype,Element=function(t,e){return void 0===e&&(e=window.customElements),t=t[0],function(n){var r=this===window?{}:this,o=function(t){function e(){t.call(this),this.context=r,t.prototype.initialize&&t.prototype.initialize.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){this.tokens.bind(this),void function(t){var e=this,n=function(t){var n=t.getAttribute("name");void new Template(n).bind(e[n])};t.map(n)}.call(this,Array.from(this.selectAll("template[name]"))),this.register()},e.prototype.connectedCallback=function(){void(t.prototype.constructor.onconnect||t.prototype.connectedCallback||function(){}).call(this),this.render()},e}(EventTarget(ParentNode(GlobalEventHandlers(n))));return e.define(t,o),e.get(t)}};Element.prototype=ElementPrototype;