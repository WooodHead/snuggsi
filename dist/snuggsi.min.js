var HTMLLinkElement=function(t){var e={},n=document.querySelector("link#"+t+"[rel=import], link[href*="+t+"][rel=import]"),r=function(t,e){return HTMLImports&&!HTMLImports.useNative?HTMLImports.whenReady(function(){return e({target:n})}):n.addEventListener(t,e)};return Object.defineProperties(e,{addEventListener:{writable:!1,value:function(t,o){n?r(t,o):o({target:e})}}}),e},TokenList=function(t){var e=this,n=function(t){return(t.text=t.textContent)&&t.textContent.match(/{(\w+|#)}/g).map(function(t){return t.match(/(\w+|#)/g)[0]}).map(r(t))},r=function(t){return function(n){return(e[n]=e[n]||[])&&e[n].push(t)}};this.sift(t).map(n)};TokenList.prototype.sift=function(t){for(var e=[],n=function(t){return t.nodeType===Node.TEXT_NODE?r(t)&&NodeFilter.FILTER_ACCEPT:o(t.attributes)&&NodeFilter.FILTER_REJECT},r=function(t){return/{(\w+|#)}/.test(t.textContent)},o=function(t){return Array.from(t).filter(function(t){return/{(\w+|#)}/g.test(t.value)}).map(function(t){return e.push(t)})},i=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,n);t=i.nextNode();)e.push(t);return e},TokenList.prototype.bind=function(t){var e=this,n=function(t){return e[t].map(function(t){return t.textContent=t.text})&&e[t].map(r(t))},r=function(e){return function(n){return n.textContent=n.textContent.replace("{"+e+"}",t[e])}};Object.keys(this).filter(function(e){return void 0!==t[e]}).map(n)};var HTMLTemplateElement=Template=function(t){function e(t){var e=this;contexts=(o=[]).concat.apply(o,[t]);var n,r=this.cloneNode(!1);return r.innerHTML=contexts.map(function(t){return t}).map(function(t,r){return t="object"==typeof t?t:{self:t},t["#"]=r,n=e.cloneNode(!0),void new TokenList(n.content).bind(t),n.innerHTML}).join(""),void(this.dependents||[]).map(function(t){return t.remove()}),this.dependents=Array.from(r.content.childNodes),this.after(r.content),this;var o}return Object.assign(document.querySelector("template[name="+t+"]"),{bind:e})},EventTarget=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.connectedCallback=function(){new HTMLLinkElement(this.tagName.toLowerCase()).addEventListener("load",this.onimport.bind(this))},e.prototype.on=function(t,e){this.addEventListener(t,e)},e}(t)},ParentNode=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.selectAll=function(t){return this.querySelectorAll(t)},e.prototype.select=function(t){return this.selectAll(t)[0]},e}(t)},GlobalEventHandlers=function(t){return function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onimport=function(e,n){void console.warn("event doc",e,n),(n=e.target["import"])&&this.clone(n.querySelector("template")),t.onconnect&&t.onconnect.call(this),this.render()},e.prototype.register=function(){var e=this,n=function(t){return/^on/.test(t)},r=function(r){return n(r)&&null===e[r]&&(e[r]=t[r].bind(e))},o=Array.from(this.querySelectorAll("*")),i=function(t){return Array.from(t.attributes).map(function(t){return t.name}).filter(n).map(u(t))},u=function(n){return function(r,o){return(o=/{\s*(\w+)\s*}/.exec(n[r]))&&(o=(o||[])[1])&&(o=t[o])&&(n[r]=o.bind(e))}};Object.getOwnPropertyNames(t).map(r),void[this].concat(o).map(i)},e}(t)},Component=function(t){return function(e){function n(){e.call(this),this.context={},this.initialize&&this.initialize(),this.tokens=new TokenList(this)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.render=function(){var e=this;this.tokens.bind(this),Array.from(this.selectAll("template[name]")).map(function(t){return t.getAttribute("name")}).map(function(t){return new Template(t).bind(e[t])}),this.register(),t.onidle&&t.onidle.call(this)},n.prototype.clone=function(t){var e=this,n=t.content.cloneNode(!0),r=Array.from(n.querySelectorAll("slot")),o=function(t){return r.filter(i(t)).map(u(t))},i=function(t){return function(e){return t.getAttribute("slot")===e.getAttribute("name")}},u=function(t){return function(e){return e.parentNode.replaceChild(t,e)}};Array.from(t.attributes).map(function(t){return e.setAttribute(t.name,t.value)}),Array.from(this.querySelectorAll("[slot]")).map(o),this.innerHTML=t.innerHTML},n}(EventTarget(ParentNode(GlobalEventHandlers(t))))},ElementPrototype=window.Element.prototype,Element=function(t,e){return void 0===e&&(e=window.customElements),function(n){return e.define.apply(e,t.concat([Component(n)]))}};Element.prototype=ElementPrototype;